<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Card Details</title>
    <!-- Link to your main CSS file -->
    <link rel="stylesheet" href="card-preview.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="mobile-container">
      <!-- Fixed Header -->
      <header class="preview-header">
        <button class="header-back-btn" onclick="window.history.back()">
          <svg
            id="vector"
            xmlns="http://www.w3.org/2000/svg"
            width="24.0d"
            height="24.0d"
            viewBox="0 0 24.0 24.0"
          >
            <path
              fill="#00000"
              d="M21 12a0.75 0.75 0 0 1-0.75 0.75H5.56l5.47 5.47a0.75 0.75 0 1 1-1.06 1.06l-6.75-6.75a0.75 0.75 0 0 1 0-1.06l6.75-6.75a0.75 0.75 0 1 1 1.06 1.06l-5.47 5.47h14.69A0.75 0.75 0 0 1 21 12z"
              id="path_0"
            />
          </svg>
        </button>
        <span class="header-title" id="header-card-title">Debit</span>
      </header>

      <!-- Main Content -->
      <main class="preview-main">
        <div class="card-preview-wrapper" id="card-preview-container">
          <!-- The custom card will be injected here -->
        </div>

        <div class="details-list">
          <div class="detail-item">
            <span class="detail-label">Name</span>
            <span class="detail-value" id="card-name">PayPal Debit Card</span>
            <a href="#" class="detail-link">Give it a nickname</a>
          </div>
          <div class="detail-item">
            <span class="detail-label">Expires on</span>
            <span class="detail-value" id="card-expiry-date">--/--</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Billing address</span>
            <span class="detail-value">
              123 Main Street<br />
              San Jose, CA 95131
            </span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Currency</span>
            <span class="detail-value">USD</span>
            <a href="#" class="detail-link">Change</a>
          </div>
        </div>

        <div class="actions-list">
          <div class="action-item" id="edit-card-btn">
            <div class="action-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                  fill="#0070ba"
                  d="M21.31 6.88l-4.19-4.2a1.5 1.5 0 0 0-2.12 0L3.44 14.26A1.49 1.49 0 0 0 3 15.31v4.19A1.5 1.5 0 0 0 4.5 21h4.19a1.49 1.49 0 0 0 1.06-0.44L21.31 9a1.5 1.5 0 0 0 0-2.12zM8.69 19.5H4.5v-4.19l8.25-8.25l4.19 4.19l-8.25 8.25zM18 10.19L13.81 6l2.25-2.25l4.19 4.19L18 10.19z"
                />
              </svg>
            </div>
            <span class="action-text">Edit</span>
          </div>
          <div class="action-item spacing" id="remove-card-btn">
            <div class="action-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                  fill="#0070ba"
                  d="M20.25 4.5H16.5V3.75a2.25 2.25 0 0 0-2.25-2.25h-4.5A2.25 2.25 0 0 0 7.5 3.75V4.5H3.75a0.75 0.75 0 0 0 0 1.5H4.5v13.5A1.5 1.5 0 0 0 6 21h12a1.5 1.5 0 0 0 1.5-1.5V6h0.75a0.75 0.75 0 1 0 0-1.5zM9 3.75A0.75 0.75 0 0 1 9.75 3h4.5A0.75 0.75 0 0 1 15 3.75V4.5H9V3.75zm9 15.75H6V6h12v13.5zm-7.5-9.75v6a0.75 0.75 0 1 1-1.5 0v-6a0.75 0.75 0 0 1 1.5 0zm4.5 0v6a0.75 0.75 0 1 1-1.5 0v-6a0.75 0.75 0 1 1 1.5 0z"
                />
              </svg>
            </div>
            <span class="action-text">Remove</span>
          </div>
        </div>
      </main>
    </div>

    <!-- ========================================================== -->
    <!-- THIS IS THE CRUCIAL PART THAT WAS MISSING -->
    <!-- ALL MODALS AND OVERLAYS MUST BE IN THE HTML FILE -->
    <!-- ========================================================== -->

    <!-- MODAL BACKDROP -->
    <div class="modal-backdrop" id="modal-backdrop"></div>

    <!-- MODAL 1: EDIT CARD (Your new, full version) -->
    <div class="modal" id="modal-link-card">
      <div class="modal-header">
        <button
          class="modal-close-btn modal-back-btn"
          data-close-modal="modal-link-card"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M19 12H5"></path>
            <polyline points="12 19 5 12 12 5"></polyline>
          </svg>
        </button>
        <span class="modal-title">Edit card</span>
        <button class="modal-close-btn" data-close-modal="modal-link-card">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="modal-content">
        <div class="form-action-header">
          <div class="scan-button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path
                d="M19.5 5.25h-2.6l-1.28-1.92A0.75 0.75 0 0 0 15 3H9a0.75 0.75 0 0 0-0.62 0.33L7.1 5.25H4.5A2.25 2.25 0 0 0 2.25 7.5V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V7.5a2.25 2.25 0 0 0-2.25-2.25zM20.25 18a0.75 0.75 0 0 1-0.75 0.75h-15A0.75 0.75 0 0 1 3.75 18V7.5A0.75 0.75 0 0 1 4.5 6.75h3a0.75 0.75 0 0 0 0.62-0.33L9.4 4.5h5.2l1.28 1.92a0.75 0.75 0 0 0 0.62 0.33h3a0.75 0.75 0 0 1 0.75 0.75V18zM12 8.25a4.13 4.13 0 1 0 0 8.25a4.13 4.13 0 0 0 0-8.25zM12 15a2.63 2.63 0 1 1 0-5.25A2.63 2.63 0 0 1 12 15z"
              />
            </svg>
            <span>Scan</span>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon-left">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path
                fill="#545d68"
                d="M21 4.5H3A1.5 1.5 0 0 0 1.5 6v12A1.5 1.5 0 0 0 3 19.5h18a1.5 1.5 0 0 0 1.5-1.5V6A1.5 1.5 0 0 0 21 4.5zM21 6v2.25H3V6h18zm0 12H3V9.75h18V18zm-1.5-2.25a0.75 0.75 0 0 1-0.75 0.75h-3a0.75 0.75 0 1 1 0-1.5h3a0.75 0.75 0 0 1 0.75 0.75zm-6 0a0.75 0.75 0 0 1-0.75 0.75h-1.5a0.75 0.75 0 1 1 0-1.5h1.5a0.75 0.75 0 0 1 0.75 0.75z"
              />
            </svg>
          </div>
          <input
            type="tel"
            class="input-field input-with-icon-left"
            placeholder="Card number"
            id="card-number"
          />
          <p class="error-message" id="card-number-error"></p>
        </div>
        <div class="form-row">
          <div class="form-group">
            <input
              type="tel"
              class="input-field"
              placeholder="Expiry (MM/YY)"
              id="card-expiry"
            />
            <p class="error-message" id="card-expiry-error"></p>
          </div>
          <div class="form-group">
            <input
              type="tel"
              class="input-field"
              placeholder="CVV"
              id="card-cvv"
              maxlength="4"
            />
            <p class="error-message" id="card-cvv-error"></p>
            <div class="input-action-right">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                  fill="#000000"
                  d="M12 3a9 9 0 1 1 0 18a9 9 0 0 1 0-18zm0 1a8 8 0 1 0 0 16a8 8 0 0 0 0-16zm0.06 12c0.3 0 0.55 0.25 0.55 0.56c0 0.3-0.25 0.55-0.55 0.55a0.56 0.56 0 0 1-0.56-0.55c0-0.31 0.25-0.56 0.56-0.56zM11.79 6c1.92 0 3.51 1.37 3.51 3.41c0 1.6-0.93 2.74-2.68 3.38l-0.12 0.05v1.24a0.5 0.5 0 0 1-0.41 0.5H12a0.5 0.5 0 0 1-0.5-0.4v-0.1v-1.98l0.36-0.1c1.67-0.5 2.44-1.35 2.44-2.59C14.3 7.96 13.18 7 11.79 7C10.66 7 9.6 7.68 9.5 8.33L9.5 8.44a0.5 0.5 0 0 1-1 0C8.5 7.1 10.12 6 11.79 6z"
                />
              </svg>
            </div>
          </div>
        </div>
        <div class="billing-section">
          <div class="billing-header">
            <span class="billing-title">Billing address</span>
            <span class="change-link">Change</span>
          </div>
          <div class="address-block">
            123 Main Street<br />
            San Jose, CA 95131<br />
            United States
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="primary-btn" id="link-card-btn">Update Card</button>
      </div>
    </div>

    <!-- MODAL 2: CONFIRM REMOVAL -->
    <div class="modal" id="modal-confirm-remove">
      <div class="confirm-modal-content">
        <h3 class="confirm-title">Remove card</h3>
        <p class="confirm-subtitle">
          Are you sure you want to remove this card? This action cannot be
          undone.
        </p>
        <div class="confirm-actions">
          <button
            class="confirm-btn secondary"
            data-close-modal="modal-confirm-remove"
          >
            Cancel
          </button>
          <button class="confirm-btn primary" id="confirm-remove-btn">
            Remove
          </button>
        </div>
      </div>
    </div>

    <!-- TOAST NOTIFICATIONS -->
    <div class="toast" id="update-toast">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path
          d="M12 21a9 9 0 1 1 0-18a9 9 0 0 1 0 18zm0-1a8 8 0 1 0 0-16a8 8 0 0 0 0 16zm4.35-11.35a0.5 0.5 0 1 1 0.7 0.7l-7 7a0.5 0.5 0 0 1-0.71 0l-2.7-2.84a0.5 0.5 0 1 1 0.72-0.7l2.35 2.47l6.64-6.63z"
        />
      </svg>
      <span>Card updated successfully.</span>
    </div>
    <div class="toast" id="remove-toast">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path
          d="M12 21a9 9 0 1 1 0-18a9 9 0 0 1 0 18zm0-1a8 8 0 1 0 0-16a8 8 0 0 0 0 16zm4.35-11.35a0.5 0.5 0 1 1 0.7 0.7l-7 7a0.5 0.5 0 0 1-0.71 0l-2.7-2.84a0.5 0.5 0 1 1 0.72-0.7l2.35 2.47l6.64-6.63z"
        />
      </svg>
      <span>Card has been removed.</span>
    </div>
    <!-- Link to your new JS file -->
    <script src="card-preview.js"></script>
    <script src="card.js"></script>
  </body>
</html>
